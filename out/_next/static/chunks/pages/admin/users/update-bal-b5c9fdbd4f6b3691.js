(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[671],{2706:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/users/update-bal",function(){return n(4857)}])},4706:function(e,a,n){"use strict";n.d(a,{Z:function(){return g}});var s=n(5893),t=n(7294),r=n(198),o=n(1414),l=n.n(o),i=n(5434),c=n(9583),d=n(9352),u=n(3854),h=n(7516),x=n(3750),p=n(1664),v=n.n(p),_=n(4082);let m=()=>{let{user:e}=(0,t.useContext)(r.Z);return(0,s.jsxs)("span",{className:l().DashboardNav,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{}),(0,s.jsx)("div",{children:(0,s.jsx)("h6",{className:"tac",children:null==e?void 0:e.fullName})})]}),(0,s.jsx)("div",{className:l().flex,children:(0,s.jsx)("p",{children:"NAVIGATIONS"})}),(0,s.jsx)(v(),{href:"/admin/dashboard",className:"m_0",children:(0,s.jsxs)("div",{className:l().flex,children:[(0,s.jsx)(i.v6F,{}),(0,s.jsx)("p",{children:"Dashboard"})]})}),(0,s.jsx)(_.Z,{top:"Users",content:{"Add New":"/admin/users/create","All Users":"/admin/users","KYC Documents":"#","Verified Users":"#","Unverified Users":"#"},children:(0,s.jsx)(c.I$,{})}),(0,s.jsxs)("div",{className:l().flex,children:[(0,s.jsx)(i.gw_,{}),(0,s.jsx)("p",{children:"Transfer Requests"})]}),(0,s.jsxs)("div",{className:l().flex,children:[(0,s.jsx)(c.EIQ,{}),(0,s.jsx)("p",{children:"Wire Transfer"})]}),(0,s.jsx)(_.Z,{top:"Deposit",content:{"Deposit Request":"#","Make Deposit":"/admin/users/update-bal","Deposit History":"#"},children:(0,s.jsx)(c.EIY,{})}),(0,s.jsx)(_.Z,{top:"Withdraw",content:{"Withdraw Request":"#","Make Withdraw":"/admin/users/update-bal","Withdraw History":"#"},children:(0,s.jsx)(c.wbB,{})}),(0,s.jsx)(_.Z,{top:"Loans Management",content:{"All Loans":"#","Loan Calculator":"#","Add New Loan":"#","Loan Products":"#","Loan Repayments":"#"},children:(0,s.jsx)(d.WGO,{})}),(0,s.jsx)(_.Z,{top:"Fixed Deposit",content:{"All New":"#","All FDR":"#","FDR Packages":"#"},children:(0,s.jsx)(c.wNT,{})}),(0,s.jsx)(_.Z,{top:"Gift Cards",content:{"Gift Cards":"#","Used Gift Cards":"#"},children:(0,s.jsx)(x.e5D,{})}),(0,s.jsx)(_.Z,{top:"Support Tickets",content:{"Active Tickets":"#","Pending Tickets":"#","Closed Tickets":"#"},children:(0,s.jsx)(h.LVi,{})}),(0,s.jsxs)("div",{className:l().flex,children:[(0,s.jsx)(u.hMk,{}),(0,s.jsx)("p",{children:"All Transactions"})]})]})};var j=n(4353),f=n.n(j),b=n(1163);let N=e=>{let{children:a}=e,{getAllUsers:n}=(0,t.useContext)(r.Z),[o,l]=(0,t.useState)(!0),[i,c]=(0,t.useState)(!1),d=(0,b.useRouter)();(0,t.useEffect)(()=>{c(window.matchMedia("(min-width: 1050px)").matches),u(),n()},[]);let u=async()=>{let e=await fetch("https://kesa-bank-backend3.onrender.com/auth/me",{method:"GET",credentials:"include"}),a=await e.json();e.ok?(console.log({acc_no:a.fullName}),(null==a?void 0:a.isAdmin)||(console.log({admin:a}),d.push("/login")),(null==a?void 0:a.isAdmin)&&l(!1)):(console.log("failed"),d.push("/login"))};return o?(0,s.jsx)("p",{children:"Loading..."}):(0,s.jsxs)("section",{className:f().dashboardLayout,children:[(0,s.jsx)("span",{onClick:()=>c(!i),className:f().toggle,children:i?"<":">"}),(0,s.jsxs)("div",{className:f().layout,children:[(0,s.jsx)("span",{className:i?f().nav:f().navClose,children:(0,s.jsx)(m,{})}),a]})]})};var g=N},4082:function(e,a,n){"use strict";var s=n(5893),t=n(1664),r=n.n(t),o=n(7294),l=n(1414),i=n.n(l),c=n(9583);let d=e=>{let{children:a,top:n,content:t}=e,[l,d]=(0,o.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:i().flexSB,onClick:()=>d(!l),children:[(0,s.jsxs)("div",{className:i().flex,children:[a,(0,s.jsx)("p",{children:n})]}),(0,s.jsx)("div",{children:l?(0,s.jsx)(c.iUH,{}):(0,s.jsx)(c.H_v,{})})]}),(0,s.jsx)("div",{className:l?i().dropdownContent:i().displayNone,children:Object.keys(t).map((e,a)=>(0,s.jsx)("div",{children:(0,s.jsx)(r(),{href:t[e],children:e})},a))})]})};a.Z=d},4857:function(e,a,n){"use strict";n.r(a);var s=n(5893),t=n(4706),r=n(7294),o=n(4353),l=n.n(o),i=n(198);let c=()=>{var e,a,n;let[o,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(""),[h,x]=(0,r.useState)(""),[p,v]=(0,r.useState)("$"),[_,m]=(0,r.useState)(!1),{getAllUsers:j,users:f}=(0,r.useContext)(i.Z),b=async e=>{if(e.preventDefault(),m(!0),navigator&&navigator.onLine){let e=await fetch("https://kesa-bank-backend3.onrender.com/admin/update-bal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({account_no:h,amount:d,currency:p})}),a=await e.json();e.ok?(j(),m(!1),console.log(a)):(m(!1),c(a.message),null!=o||console.log(o))}else c("You appear to be offline. Check your internet connection"),console.log("error")};if(console.log({bal:f}),console.log(null==f?void 0:null===(e=f[1])||void 0===e?void 0:e.account_bal),h)var N=f.map(e=>e.account_no).indexOf(+h);return console.log(N),(0,s.jsx)(t.Z,{children:(0,s.jsx)("div",{className:l().details,children:(0,s.jsxs)("div",{className:"".concat(l().con," ").concat(l().over),children:[(0,s.jsx)("h6",{className:"tac",children:"Update Account Balance"}),(0,s.jsxs)("form",{onSubmit:b,children:[(0,s.jsx)("input",{type:"number",value:h,placeholder:"Account Number",onChange:e=>x(e.target.value)}),(0,s.jsx)("div",{children:-1!==N?(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:["Name: ",null==f?void 0:null===(a=f[N])||void 0===a?void 0:a.fullName]}),(0,s.jsxs)("p",{children:["Current Account Balance:",null==f?void 0:null===(n=f[N])||void 0===n?void 0:n.account_bal]})]}):(0,s.jsx)("p",{children:"The account number you provided does not exist"})}),(0,s.jsx)("input",{type:"number",placeholder:"Amount",value:d,onChange:e=>u(e.target.value)}),(0,s.jsx)("div",{style:{marginBottom:"20px"},children:(0,s.jsxs)("label",{children:["Select Currency:",(0,s.jsx)("input",{type:"radio",value:"$",name:"currency",checked:"$"===p,onClick:e=>v(e.target.value)})," ","$",(0,s.jsx)("input",{type:"radio",value:"€",name:"currency",checked:"€"===p,onClick:e=>v(e.target.value)})," ","€"]})}),(0,s.jsx)("button",{type:"submit",disabled:_,className:l().btn,children:"Submit"})]})]})})})};a.default=c},4353:function(e){e.exports={dashboard:"Dashboard_dashboard__W_rvh",dashboardLayout:"Dashboard_dashboardLayout__0uskM",layout:"Dashboard_layout__Cd4QU",toggle:"Dashboard_toggle__E4Do2",nav:"Dashboard_nav__3PN0p",navClose:"Dashboard_navClose__kcx9t",warning:"Dashboard_warning__WeEEE",details:"Dashboard_details__IjH_Z",resFlex:"Dashboard_resFlex__I99fP",flex:"Dashboard_flex__XVqU_",con:"Dashboard_con__bhJ5I",conp:"Dashboard_conp__ZgGsR",over:"Dashboard_over__cxWs1",btn:"Dashboard_btn__lqXZP",dashboardPage:"Dashboard_dashboardPage__rXLn_"}},1414:function(e){e.exports={DashboardNav:"DashboardNav_DashboardNav__yrhy_",dropdownContent:"DashboardNav_dropdownContent__0Ss6z",flexSB:"DashboardNav_flexSB__RiIvO",flex:"DashboardNav_flex__zxecH",displayNone:"DashboardNav_displayNone__LpxL5",leftpad:"DashboardNav_leftpad__MZZ34"}},8357:function(e,a,n){"use strict";n.d(a,{w_:function(){return i}});var s=n(7294),t={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r=s.createContext&&s.createContext(t),o=function(){return(o=Object.assign||function(e){for(var a,n=1,s=arguments.length;n<s;n++)for(var t in a=arguments[n])Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e}).apply(this,arguments)},l=function(e,a){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>a.indexOf(s)&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var t=0,s=Object.getOwnPropertySymbols(e);t<s.length;t++)0>a.indexOf(s[t])&&Object.prototype.propertyIsEnumerable.call(e,s[t])&&(n[s[t]]=e[s[t]]);return n};function i(e){return function(a){return s.createElement(c,o({attr:o({},e.attr)},a),function e(a){return a&&a.map(function(a,n){return s.createElement(a.tag,o({key:n},a.attr),e(a.child))})}(e.child))}}function c(e){var a=function(a){var n,t=e.attr,r=e.size,i=e.title,c=l(e,["attr","size","title"]),d=r||a.size||"1em";return a.className&&(n=a.className),e.className&&(n=(n?n+" ":"")+e.className),s.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,t,c,{className:n,style:o(o({color:e.color||a.color},a.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),i&&s.createElement("title",null,i),e.children)};return void 0!==r?s.createElement(r.Consumer,null,function(e){return a(e)}):a(t)}}},function(e){e.O(0,[445,228,937,874,556,13,774,888,179],function(){return e(e.s=2706)}),_N_E=e.O()}]);